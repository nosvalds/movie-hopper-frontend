(this["webpackJsonpmovie-hopper-frontend"]=this["webpackJsonpmovie-hopper-frontend"]||[]).push([[0],{53:function(e,t,a){e.exports=a(82)},58:function(e,t,a){},59:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),l=(a(58),a(59),a(84)),c=function(){return r.a.createElement(l.a,{className:"header"},r.a.createElement("h1",{className:"header-h1","aria-label":"Movie Hopper App - Find Movies in Common!"},"Movie Hopper"))},s=a(10),u=a(37),m=a(38),v=a(50),d=a(48),p=a(85),f=a(51),E=function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.handleMount()}},{key:"render",value:function(){var e=this.props,t=e.movieGoersList,a=e.handleSelect,o=e.selectedIds;return t.length>0?r.a.createElement(n.Fragment,null,r.a.createElement("h2",{className:"moviegoers-list-title","aria-label":"Moviegoers List"},"Movie Goers"),r.a.createElement(p.a,{className:"p-0 moviegoers-list"},t.map((function(e,t){return r.a.createElement(f.a,{className:"moviegoer-card",active:-1!==o.indexOf(e.id),key:t,onClick:function(){return a(e.id)},"aria-label":e.name},e.name)})))):r.a.createElement("h2",{className:"moviegoers-list-title","aria-label":"No movie-goers found"},"No movie-goers found!")}}]),a}(n.Component),h=a(42),b=a.n(h).a.create({baseURL:"https://hopper.developme.space/api/",headers:{Accept:"application/json"}}),O=function(e){return{type:"SET_MOVIES",movies:e}},y=Object(s.b)((function(e){var t=e.selectedMovieGoer.length>0?e.selectedMovieGoer.map((function(e){return e.id})):"";return{movieGoersList:e.movieGoersList,selectedIds:t}}),(function(e){return{handleMount:function(){return e((function(e){b.get("/people").then((function(t){var a=t.data;e(function(e){return{type:"SET_PEOPLE",data:e}}(a.data))}))}))},handleSelect:function(t){return e(function(e){return function(t,a){t(function(e){return{type:"SELECT_MOVIEGOER",id:e}}(e));var n=a().selectedMovieGoer.map((function(e){return e.id}));1===n.length?b.get("/people/".concat(e)).then((function(e){var a=e.data.data.movies.map((function(e){return{frequency:1,movie:e}}));t(O(a))})):n.length>1&&b.get("/people/match?people=".concat(n.join(","))).then((function(e){var a=e.data;t(O(a.data.filter((function(e){return e.frequency>1}))))}))}}(t))}}}))(E),M=function(){return r.a.createElement("p",{className:"footer","aria-label":"Copyright statement"},"Copyright \xa9 2020 Nik Osvalds, Kieran Cott, Henry Macfarlane, Richard Stibbard")},g=a(11),S=a(43),j=a(46),L=function(e){var t=e.movieFrequency,a=e.numPeopleSelected;return 1===a?null:a===t?r.a.createElement(g.a.Header,{className:"movie-card-header","aria-label":t},"You ",2===a?"both":"all"," like this movie!"):r.a.createElement(g.a.Header,{className:"movie-card-header","aria-label":t},t," people like this movie!")},N=function(e){var t=e.movies,a=e.numPeopleSelected;return t.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"movies-title","aria-label":"Movies"},"Movies"),r.a.createElement(S.a,{className:"movies-list","aria-label":"Movies List"},t.map((function(e,t){return 1!==a&&1===e.frequency?null:r.a.createElement(g.a,{key:t,className:"movie-card"},r.a.createElement(L,{numPeopleSelected:a,movieFrequency:e.frequency}),r.a.createElement(g.a.Body,null,r.a.createElement(g.a.Title,{"aria-label":e.movie.name},e.movie.name)),r.a.createElement(g.a.Footer,{"aria-label":e.movie.year},e.movie.year))})))):r.a.createElement(j.a,{variant:"primary",className:"instructions","aria-label":"Select a person to see their favourite movies. Select multiple people to see movies they have in common!"},r.a.createElement(r.a.Fragment,null,a>1?"You don't have any movies in common!":"Select a person to see their favourite movies."),r.a.createElement("br",null),r.a.createElement(r.a.Fragment,null,a<1?"Select multiple people to see movies they have in common!":null))},G=Object(s.b)((function(e){return{movies:e.movies,numPeopleSelected:e.selectedMovieGoer.length}}))(N),_=function(e){var t=e.handleReset;return r.a.createElement("div",{className:"search-button-container"},r.a.createElement("button",{className:"search-button btn btn-warning",onClick:t,"aria-label":"Click to clear selection"},"Clear Selection"))},C=Object(s.b)("",(function(e){return{handleReset:function(){return e({type:"CLEAR_ALL"})}}}))(_);var k=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c,null),r.a.createElement(y,null),r.a.createElement(C,null),r.a.createElement(G,null),r.a.createElement(M,null))},F=a(12),I={selectedMovieGoer:[],movieGoersList:[],movies:[]},P=a(8),R=a(47),T=function(e,t){switch(t.type){case"SET_PEOPLE":return function(e,t){return Object(P.a)(Object(P.a)({},e),{},{movieGoersList:t.data})}(e,t);case"SELECT_MOVIEGOER":return function(e,t){var a=Object(R.a)(e.selectedMovieGoer),n=a.findIndex((function(e){return t.id===e.id}));if(-1!==n)a.splice(n,1);else{var r=e.movieGoersList.find((function(e){return e.id===t.id}));a.push(r)}return Object(P.a)(Object(P.a)({},e),{},{selectedMovieGoer:a})}(e,t);case"SET_MOVIES":return function(e,t){return Object(P.a)(Object(P.a)({},e),{},{movies:t.movies})}(e,t);case"CLEAR_ALL":return Object(P.a)(Object(P.a)({},e),{},{selectedMovieGoer:[],movies:[]});default:return e}},q=a(45),w=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||F.c,A=Object(F.d)(T,I,w(Object(F.a)(q.a)));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:A},r.a.createElement(k,null))),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.011f8f55.chunk.js.map