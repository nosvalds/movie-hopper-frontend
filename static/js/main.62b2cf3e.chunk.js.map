{"version":3,"sources":["components/Header.js","components/MovieGoersList/MovieGoersList.js","axios/axios.js","data/actions/state.js","components/MovieGoersList/index.js","data/actions/api.js","components/Footer.js","components/MoviesList/MoviesList.js","components/MoviesList/index.js","components/ResetButton/ResetButton.js","components/ResetButton/index.js","App.js","data/initialState.js","data/reducer.js","data/store.js","index.js"],"names":["Header","Jumbotron","className","MovieGoersList","this","props","handleMount","movieGoersList","handleSelect","selectedIds","length","ListGroup","map","movieGoer","index","ListGroupItem","active","indexOf","id","key","onClick","aria-label","name","Component","axios","create","baseURL","headers","Accept","setMovies","movies","type","connect","state","selectedMovieGoer","person","dispatch","get","then","data","setPeople","getState","peopleIds","selectedMovieGoers","push","join","selectMovieGoer","getMovies","Footer","MoviesList","CardColumns","movie","i","Card","Body","Title","year","Alert","variant","ResetButton","handleReset","App","initialState","reducer","action","concat","filter","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.62b2cf3e.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Jumbotron } from 'react-bootstrap';\r\n\r\nconst Header = () => (\r\n\r\n  <Jumbotron>\r\n    <h1 className=\"moviegoers-title display-4\">Movie Hopper</h1>\r\n    <p className=\"lead text-center\">Select a person to see their favourite movies. Select multiple to see which favourite films they have in common.</p>\r\n  </Jumbotron >\r\n)\r\n\r\nexport default Header;","import React, { Fragment, Component } from 'react';\nimport {\n  ListGroup,\n  ListGroupItem\n} from 'react-bootstrap';\n\nclass MovieGoersList extends Component {\n  componentDidMount() {\n    this.props.handleMount()\n  }\n\n  render() {\n    const { movieGoersList, handleSelect, selectedIds } = this.props;\n\n    return (\n      (movieGoersList.length > 0) ? (\n        <Fragment>\n          <h2 className=\"moviegoers-list-title\">Movie Goers</h2>\n          <ListGroup className=\"p-0 moviegoers-list\">\n            {\n              movieGoersList.map((movieGoer, index) => (\n                <ListGroupItem className=\"moviegoer-card\"\n                  active={selectedIds.indexOf(movieGoer.id) !== -1} // if movieGoer.id is in the selectedId array, then highlight as selected\n                  key={index}\n                  onClick={() => handleSelect(movieGoer.id)}\n                  aria-label={movieGoer.name}\n                >\n                  {movieGoer.name}\n                </ListGroupItem>\n              ))\n            }\n          </ListGroup>\n        </Fragment>\n\n      ) : (\n          <h2 className=\"moviegoers-list-title\" aria-label=\"No movie-goers found\">No movie-goers found!</h2>\n        )\n    );\n  }\n}\n\nexport default MovieGoersList;","import axios from 'axios';\n\nexport default axios.create({\n  baseURL: \"https://hopper.developme.space/api/\",\n  headers: {\n    Accept: \"application/json\",\n    // Authorization: \"TBD\" // Needs to be set up\n  }\n})","export const selectMovieGoer = (id) => {\n  return {\n    type: \"SELECT_MOVIEGOER\",\n    id\n  }\n}\n\nexport const setPeople = (data) => {\n  return {\n    type: \"SET_PEOPLE\",\n    data: data\n  }\n}\n\nexport const setMovies = (movies) => {\n  return {\n    type: \"SET_MOVIES\",\n    movies\n  }\n}\n\nexport const clearMovieGoerSelection = () => {\n  return {\n    type: \"CLEAR_ALL\",\n  }\n}","import { connect } from 'react-redux';\r\nimport MovieGoersList from './MovieGoersList';\r\nimport { getPeople } from '../../data/actions/api';\r\nimport { getMovies } from '../../data/actions/api';\r\n\r\nconst mapStateToProps = (state) => {\r\n  let selectedIds = state.selectedMovieGoer.length > 0 ? state.selectedMovieGoer.map((person) => person.id) : \"\";\r\n  return {\r\n    movieGoersList: state.movieGoersList,\r\n    selectedIds,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    handleMount: () => dispatch(getPeople()),\r\n    handleSelect: (id) => dispatch(getMovies(id)),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MovieGoersList);","import axios from \"../../axios/axios\"\nimport { selectMovieGoer,\n         setPeople,\n         setMovies,   \n        } from './state'\n\nexport const getPeople = () => {\n    return (dispatch) => {\n        axios.get(\"/people\").then(({ data }) => {\n            dispatch(setPeople(data.data))\n        })\n    }\n}\n\nexport const getMovies = (id) => (dispatch, getState) => {\n    let peopleIds = [];\n    let selectedMovieGoers = getState().selectedMovieGoer;\n    if (selectedMovieGoers.length === 0) {\n        peopleIds[0] = id;\n    } else {\n        peopleIds = selectedMovieGoers.map((person) => person.id);\n        peopleIds.push(id); // array of currently selected movie-goers\n    }\n    // if it's 1 selection query the /people/id route\n    if (peopleIds.length === 1) {\n        axios.get(`/people/${id}`).then(({ data }) => { \n            dispatch(setMovies(data.data.movies))\n        })\n    } else {\n        // if it's multiple selections, query the match?people=\"ids\" route\n       axios.get(`/people/match?people=${peopleIds.join(',')}`).then(({ data }) => {\n            dispatch(setMovies([data.data]))\n       });\n    }\n    // always \"select\" a moviegoer, could add error handling if the above api calls failed.\n    dispatch(selectMovieGoer(id))\n}","import React from 'react';\r\n\r\nconst Footer = () => (\r\n  <p className=\"footer\" aria-label=\"Copyright\">\r\n    &copy;Nik Osvalds, Kieran Cott, Henry Macfarlane, Richard Stibbard 2020\r\n  </p>\r\n)\r\n\r\nexport default Footer;","import React from 'react';\nimport Card from 'react-bootstrap/Card'\nimport CardColumns from 'react-bootstrap/CardColumns'\nimport Alert from 'react-bootstrap/Alert'\n\nconst MoviesList = ({ movies }) => (\n  (movies.length > 0) ? (\n    <>\n      <h2 className=\"movies-title\" aria-label=\"Movies\">Movies</h2>\n      <CardColumns className=\"movies-list\" aria-label=\"Movies List\">\n        {movies.map((movie, i) => (\n          <Card key={i}>\n            <Card.Body>\n              <Card.Title aria-label={movie.name}>\n                {movie.name}\n              </Card.Title>\n            </Card.Body>\n            <Card.Footer aria-label={movie.year}>\n              {movie.year}\n            </Card.Footer>\n          </Card>\n        ))}\n      </CardColumns>\n    </>\n  ) :\n    (\n      <Alert variant=\"primary\" className=\"instructions\"\n        aria-label=\"Select a person to see their favourite movies!\">\n        Select a person to see their favourite movies!\n      </Alert>\n    )\n);\n\n\nexport default MoviesList;","import { connect } from 'react-redux';\nimport MoviesList from './MoviesList';\n\nconst mapStateToProps = (state) => {\n  return {\n    movies: state.movies,\n  }\n}\n\nexport default connect(mapStateToProps)(MoviesList);","import React from \"react\";\r\n\r\nconst ResetButton = ({ handleReset }) => (\r\n  <div className=\"search-button-container\">\r\n    <button\r\n      className=\"search-button btn btn-warning\"\r\n      onClick={handleReset}\r\n      aria-label=\"Click to clear selection\">\r\n      Clear Selection\r\n      </button>\r\n  </div>\r\n)\r\n\r\nexport default ResetButton;\r\n","import { connect } from 'react-redux';\nimport ResetButton from './ResetButton';\nimport { clearMovieGoerSelection } from '../../data/actions/state';\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    handleReset: () => dispatch(clearMovieGoerSelection())\n  }\n}\n\nexport default connect(\"\", mapDispatchToProps)(ResetButton);","import React from 'react';\nimport './App.css';\nimport Header from './components/Header';\nimport MovieGoersList from './components/MovieGoersList/';\nimport Footer from './components/Footer';\nimport MoviesList from './components/MoviesList';\nimport ResetButton from './components/ResetButton/';\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <MovieGoersList />\n      <ResetButton />\n      <MoviesList />\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","const initialState = {\n  selectedMovieGoer: [],\n  movieGoersList: [],\n  movies: []\n};\n\nexport default initialState;","\nconst selectMovieGoer = (state, action) => {\n  return {\n    ...state,\n    selectedMovieGoer: [\n      ...state.selectedMovieGoer]\n      .concat(state.movieGoersList.filter((movieGoer) => {\n        return movieGoer.id === action.id;\n      })),\n  }\n}\n\nconst setPeople = (state, action) => {\n  return {\n    ...state,\n    movieGoersList: action.data\n  }\n}\n\nconst setMovies = (state, action) => {\n  return {\n    ...state,\n    movies: action.movies,\n  }\n}\n\n// Reducer function\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"SET_PEOPLE\": return setPeople(state, action);\n    case \"SELECT_MOVIEGOER\": return selectMovieGoer(state, action);\n    case \"SET_MOVIES\": return setMovies(state, action);\n    case \"CLEAR_ALL\": return { // clear selected moviegoers\n      ...state,\n      selectedMovieGoer: [],\n      movies: []\n    };\n    default: return state;\n  }\n}\n\nexport default reducer;","import { createStore, compose, applyMiddleware } from 'redux';\n\nimport initialState from './initialState';\nimport reducer from './reducer';\nimport thunk from 'redux-thunk';\n\n  \n  // set up redux dev tools \n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n  // store set up\n  const store = createStore(\n    reducer,\n    initialState,\n    composeEnhancers(applyMiddleware(thunk))\n  );\n  \n  export default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from \"react-redux\";\nimport store from './data/store';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={ store } >\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}