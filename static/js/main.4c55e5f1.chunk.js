(this["webpackJsonpmovie-hopper-frontend"]=this["webpackJsonpmovie-hopper-frontend"]||[]).push([[0],{53:function(e,t,n){e.exports=n(82)},58:function(e,t,n){},59:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),i=n.n(o),l=(n(58),n(59),n(84)),c=function(){return r.a.createElement(l.a,{className:"header"},r.a.createElement("h1",{className:"header-h1","aria-label":"Movie Hopper App - Find Movies in Common!"},"Movie Hopper"))},s=n(10),u=n(37),m=n(38),v=n(50),d=n(48),p=n(85),f=n(51),E=function(e){Object(v.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.handleMount()}},{key:"render",value:function(){var e=this.props,t=e.movieGoersList,n=e.handleSelect,o=e.selectedIds;return t.length>0?r.a.createElement(a.Fragment,null,r.a.createElement("h2",{className:"moviegoers-list-title","aria-label":"Moviegoers List"},"Movie Goers"),r.a.createElement(p.a,{className:"p-0 moviegoers-list"},t.map((function(e,t){return r.a.createElement(f.a,{className:"moviegoer-card",active:-1!==o.indexOf(e.id),key:t,onClick:function(){return n(e.id)},"aria-label":e.name},e.name)})))):r.a.createElement("h2",{className:"moviegoers-list-title","aria-label":"No movie-goers found"},"No movie-goers found!")}}]),n}(a.Component),h=n(42),b=n.n(h).a.create({baseURL:"https://hopper.developme.space/api/",headers:{Accept:"application/json"}}),O=function(e){return{type:"SET_MOVIES",movies:e}},g=Object(s.b)((function(e){var t=e.selectedMovieGoer.length>0?e.selectedMovieGoer.map((function(e){return e.id})):"";return{movieGoersList:e.movieGoersList,selectedIds:t}}),(function(e){return{handleMount:function(){return e((function(e){b.get("/people").then((function(t){var n=t.data;e(function(e){return{type:"SET_PEOPLE",data:e}}(n.data))}))}))},handleSelect:function(t){return e(function(e){return function(t,n){t(function(e){return{type:"SELECT_MOVIEGOER",id:e}}(e));var a=n().selectedMovieGoer.map((function(e){return e.id}));console.log(a),1===a.length?(console.log("In if"),b.get("/people/".concat(e)).then((function(e){var n=e.data.data.movies.map((function(e){return{frequency:1,movie:e}}));t(O(n))}))):a.length>1&&(console.log("In else"),b.get("/people/match?people=".concat(a.join(","))).then((function(e){var n=e.data;t(O(n.data))}))),console.log(a.length)}}(t))}}}))(E),M=function(){return r.a.createElement("p",{className:"footer","aria-label":"Copyright statement"},"Copyright \xa9 2020 Nik Osvalds, Kieran Cott, Henry Macfarlane, Richard Stibbard")},y=n(11),S=n(43),j=n(46),L=function(e){var t=e.movieFrequency,n=e.numPeopleSelected;return 1===n?null:n===t?r.a.createElement(y.a.Header,{className:"movie-card-header","aria-label":t},"You ",2===n?"both":"all"," like this movie!"):void 0},N=function(e){var t=e.movies,n=e.numPeopleSelected;return t.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"movies-title","aria-label":"Movies"},"Movies"),r.a.createElement(S.a,{className:"movies-list","aria-label":"Movies List"},t.map((function(e,t){return 1!==n&&1===e.frequency?null:r.a.createElement(y.a,{key:t,className:"movie-card"},r.a.createElement(L,{numPeopleSelected:n,movieFrequency:e.frequency}),r.a.createElement(y.a.Body,null,r.a.createElement(y.a.Title,{"aria-label":e.movie.name},e.movie.name)),r.a.createElement(y.a.Footer,{"aria-label":e.movie.year},e.movie.year))})))):r.a.createElement(j.a,{variant:"primary",className:"instructions","aria-label":"Select a person to see their favourite movies. Select multiple people to see movies they have in common!"},"Select a person to see their favourite movies.",r.a.createElement("br",null),"Select multiple people to see movies they have in common!")},G=Object(s.b)((function(e){return{movies:e.movies,numPeopleSelected:e.selectedMovieGoer.length}}))(N),_=function(e){var t=e.handleReset;return r.a.createElement("div",{className:"search-button-container"},r.a.createElement("button",{className:"search-button btn btn-warning",onClick:t,"aria-label":"Click to clear selection"},"Clear Selection"))},C=Object(s.b)("",(function(e){return{handleReset:function(){return e({type:"CLEAR_ALL"})}}}))(_);var k=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c,null),r.a.createElement(g,null),r.a.createElement(C,null),r.a.createElement(G,null),r.a.createElement(M,null))},I=n(12),P={selectedMovieGoer:[],movieGoersList:[],movies:[]},R=n(8),T=n(47),F=function(e,t){switch(t.type){case"SET_PEOPLE":return function(e,t){return Object(R.a)(Object(R.a)({},e),{},{movieGoersList:t.data})}(e,t);case"SELECT_MOVIEGOER":return function(e,t){var n=Object(T.a)(e.selectedMovieGoer),a=n.findIndex((function(e){return t.id===e.id}));if(-1!==a)n.splice(a,1);else{var r=e.movieGoersList.find((function(e){return e.id===t.id}));n.push(r)}return Object(R.a)(Object(R.a)({},e),{},{selectedMovieGoer:n})}(e,t);case"SET_MOVIES":return function(e,t){return Object(R.a)(Object(R.a)({},e),{},{movies:t.movies})}(e,t);case"CLEAR_ALL":return Object(R.a)(Object(R.a)({},e),{},{selectedMovieGoer:[],movies:[]});default:return e}},w=n(45),A=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||I.c,q=Object(I.d)(F,P,A(Object(I.a)(w.a)));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:q},r.a.createElement(k,null))),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.4c55e5f1.chunk.js.map