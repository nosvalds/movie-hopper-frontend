{"version":3,"sources":["components/Header.js","components/MovieGoersList/MovieGoersList.js","axios/axios.js","data/actions/state.js","components/MovieGoersList/index.js","data/actions/api.js","components/Footer.js","components/MoviesList/MovieCardHeader.js","components/MoviesList/MoviesList.js","components/MoviesList/index.js","components/ResetButton/ResetButton.js","components/ResetButton/index.js","App.js","data/initialState.js","data/reducer.js","data/store.js","index.js"],"names":["Header","Jumbotron","className","aria-label","MovieGoersList","this","props","handleMount","movieGoersList","handleSelect","selectedIds","length","ListGroup","map","movieGoer","index","ListGroupItem","active","indexOf","id","key","onClick","name","Component","axios","create","baseURL","headers","Accept","setMovies","movies","type","connect","state","selectedMovieGoer","person","dispatch","get","then","data","setPeople","getState","selectMovieGoer","peopleIds","movie","frequency","join","filter","getMovies","Footer","MovieCardHeader","movieFrequency","numPeopleSelected","Card","MoviesList","CardColumns","i","Body","Title","year","Alert","variant","ResetButton","handleReset","App","initialState","reducer","action","newSelection","existingIndex","findIndex","splice","find","push","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.011f8f55.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Jumbotron } from 'react-bootstrap';\r\n\r\nconst Header = () => (\r\n\r\n  <Jumbotron className=\"header\">\r\n    <h1 className=\"header-h1\" aria-label=\"Movie Hopper App - Find Movies in Common!\">Movie Hopper</h1>\r\n  </Jumbotron >\r\n)\r\n\r\nexport default Header;","import React, { Fragment, Component } from 'react';\nimport {\n  ListGroup,\n  ListGroupItem\n} from 'react-bootstrap';\n\nclass MovieGoersList extends Component {\n  componentDidMount() {\n    this.props.handleMount()\n  }\n\n  render() {\n    const { movieGoersList, handleSelect, selectedIds } = this.props;\n\n    return (\n      (movieGoersList.length > 0) ? (\n        <Fragment>\n          <h2 className=\"moviegoers-list-title\" aria-label=\"Moviegoers List\">Movie Goers</h2>\n          <ListGroup className=\"p-0 moviegoers-list\">\n            {\n              movieGoersList.map((movieGoer, index) => (\n                <ListGroupItem className=\"moviegoer-card\"\n                  active={selectedIds.indexOf(movieGoer.id) !== -1} // if movieGoer.id is in the selectedId array, then highlight as selected\n                  key={index}\n                  onClick={() => handleSelect(movieGoer.id)}\n                  aria-label={movieGoer.name}\n                >\n                  {movieGoer.name}\n                </ListGroupItem>\n              ))\n            }\n          </ListGroup>\n        </Fragment>\n\n      ) : (\n          <h2 className=\"moviegoers-list-title\" aria-label=\"No movie-goers found\">No movie-goers found!</h2>\n        )\n    );\n  }\n}\n\nexport default MovieGoersList;","import axios from 'axios';\n\nexport default axios.create({\n  baseURL: (process.env.NODE_ENV === 'production') ? \"https://hopper.developme.space/api/\" : \"http://homestead.test/api/\",\n  headers: {\n    Accept: \"application/json\",\n  }\n})","export const selectMovieGoer = (id) => {\n  return {\n    type: \"SELECT_MOVIEGOER\",\n    id\n  }\n}\n\nexport const setPeople = (data) => {\n  return {\n    type: \"SET_PEOPLE\",\n    data: data\n  }\n}\n\nexport const setMovies = (movies) => {\n  return {\n    type: \"SET_MOVIES\",\n    movies\n  }\n}\n\nexport const clearMovieGoerSelection = () => {\n  return {\n    type: \"CLEAR_ALL\",\n  }\n}","import { connect } from 'react-redux';\r\nimport MovieGoersList from './MovieGoersList';\r\nimport { getPeople } from '../../data/actions/api';\r\nimport { getMovies } from '../../data/actions/api';\r\n\r\nconst mapStateToProps = (state) => {\r\n  let selectedIds = state.selectedMovieGoer.length > 0 ? state.selectedMovieGoer.map((person) => person.id) : \"\";\r\n  return {\r\n    movieGoersList: state.movieGoersList,\r\n    selectedIds,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    handleMount: () => dispatch(getPeople()),\r\n    handleSelect: (id) => dispatch(getMovies(id)),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MovieGoersList);","import axios from \"../../axios/axios\"\nimport {\n    selectMovieGoer,\n    setPeople,\n    setMovies,\n} from './state'\n\nexport const getPeople = () => {\n    return (dispatch) => {\n        axios.get(\"/people\").then(({ data }) => {\n            dispatch(setPeople(data.data))\n        })\n    }\n}\n\nexport const getMovies = (id) => (dispatch, getState) => {\n    dispatch(selectMovieGoer(id))\n    let selectedMovieGoers = getState().selectedMovieGoer;\n    let peopleIds = selectedMovieGoers.map(person => person.id);\n    // if (selectedMovieGoers.length === 0) {\n    //     peopleIds[0] = id;\n    // } else {\n    //     peopleIds = selectedMovieGoers.map((person) => person.id);\n    //     peopleIds.push(id); // array of currently selected movie-goers\n    // }\n    // if it's 1 selection query the /people/id route\n    if (peopleIds.length === 1) {\n        axios.get(`/people/${id}`).then(({ data }) => {\n            let movies = data.data.movies.map((movie) => ({ frequency: 1, movie: movie })) // turn into new format of state with frequency\n            dispatch(setMovies(movies))\n\n        })\n    } else if (peopleIds.length > 1) {\n        // if it's multiple selections, query the match?people=\"ids\" route\n        axios.get(`/people/match?people=${peopleIds.join(',')}`).then(({ data }) => {\n            dispatch(setMovies(data.data.filter((movie) => (movie.frequency > 1)))); // if there is more than 1 person selected don't save movies only liked by 1 person to state\n        });\n    }\n    // always \"select\" a moviegoer, could add error handling if the above api calls failed.\n\n}","import React from 'react';\r\n\r\nconst Footer = () => (\r\n  <p className=\"footer\" aria-label=\"Copyright statement\">\r\n    Copyright &copy; 2020 Nik Osvalds, Kieran Cott, Henry Macfarlane, Richard Stibbard\r\n  </p>\r\n)\r\n\r\nexport default Footer;","import React from 'react';\nimport Card from 'react-bootstrap/Card'\n\nconst MovieCardHeader = ({movieFrequency, numPeopleSelected}) => {\n    // if only 1 person is selected, don't show anything about frequency\n    if (numPeopleSelected === 1) { \n      return null\n    } else if (numPeopleSelected === movieFrequency) {\n      return (\n        <Card.Header className=\"movie-card-header\" aria-label={movieFrequency}>\n          You {numPeopleSelected === 2 ? \"both\" : \"all\"} like this movie!\n        </Card.Header>\n      )\n    } else {\n      return (\n        <Card.Header className=\"movie-card-header\" aria-label={movieFrequency}>\n          {movieFrequency} people like this movie!\n        </Card.Header>\n      )\n    }\n  }\n\nexport default MovieCardHeader;","import React from 'react';\nimport Card from 'react-bootstrap/Card';\nimport CardColumns from 'react-bootstrap/CardColumns';\nimport Alert from 'react-bootstrap/Alert';\nimport MovieCardHeader from './MovieCardHeader';\n\nconst MoviesList = ({ movies, numPeopleSelected }) => (\n  (movies.length > 0) ? (\n    <>\n      <h2 className=\"movies-title\" aria-label=\"Movies\">Movies</h2>\n      <CardColumns className=\"movies-list\" aria-label=\"Movies List\">\n        {movies.map((movie, i) => ( (numPeopleSelected !== 1 && movie.frequency === 1) ? null : // dont show movies that only 1 person likes if multiple people are selected.\n          <Card key={i} className=\"movie-card\">\n            <MovieCardHeader numPeopleSelected={numPeopleSelected} movieFrequency={movie.frequency} />\n            <Card.Body>\n              <Card.Title aria-label={movie.movie.name}>\n                {movie.movie.name}\n              </Card.Title>\n            </Card.Body>\n            <Card.Footer aria-label={movie.movie.year}>\n              {movie.movie.year}\n            </Card.Footer>\n          </Card>\n        ))}\n      </CardColumns>\n    </>\n  ) :\n    (\n      <Alert \n        variant=\"primary\" \n        className=\"instructions\"\n        aria-label=\"Select a person to see their favourite movies. Select multiple people to see movies they have in common!\"\n      >\n        <>\n          { numPeopleSelected > 1 ? \n              \"You don't have any movies in common!\" :\n              \"Select a person to see their favourite movies.\"\n          }\n        </>\n        <br></br>\n        <>\n          { numPeopleSelected < 1 ? \n            \"Select multiple people to see movies they have in common!\" \n            : null\n          }\n        </>\n      </Alert>\n    )\n);\n\n\nexport default MoviesList;","import { connect } from 'react-redux';\nimport MoviesList from './MoviesList';\n\nconst mapStateToProps = (state) => {\n  return {\n    movies: state.movies,\n    numPeopleSelected: state.selectedMovieGoer.length,\n  }\n}\n\nexport default connect(mapStateToProps)(MoviesList);","import React from \"react\";\r\n\r\nconst ResetButton = ({ handleReset }) => (\r\n  <div className=\"search-button-container\">\r\n    <button\r\n      className=\"search-button btn btn-warning\"\r\n      onClick={handleReset}\r\n      aria-label=\"Click to clear selection\">\r\n      Clear Selection\r\n      </button>\r\n  </div>\r\n)\r\n\r\nexport default ResetButton;\r\n","import { connect } from 'react-redux';\nimport ResetButton from './ResetButton';\nimport { clearMovieGoerSelection } from '../../data/actions/state';\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    handleReset: () => dispatch(clearMovieGoerSelection())\n  }\n}\n\nexport default connect(\"\", mapDispatchToProps)(ResetButton);","import React from 'react';\nimport './App.css';\nimport Header from './components/Header';\nimport MovieGoersList from './components/MovieGoersList/';\nimport Footer from './components/Footer';\nimport MoviesList from './components/MoviesList';\nimport ResetButton from './components/ResetButton/';\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <MovieGoersList />\n      <ResetButton />\n      <MoviesList />\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","const initialState = {\n  selectedMovieGoer: [],\n  movieGoersList: [],\n  movies: []\n};\n\nexport default initialState;","\nconst selectMovieGoer = (state, action) => {\n  const newSelection = [...state.selectedMovieGoer]\n  const existingIndex = newSelection.findIndex((person) => action.id === person.id)\n  if (existingIndex !== -1) {\n    newSelection.splice(existingIndex, 1)\n  } else {\n    const movieGoer = state.movieGoersList.find((movieGoer) => {\n      return movieGoer.id === action.id;\n    })\n    newSelection.push(movieGoer)\n  }\n  return {\n    ...state,\n    selectedMovieGoer: newSelection\n  }\n}\n\nconst setPeople = (state, action) => {\n  return {\n    ...state,\n    movieGoersList: action.data\n  }\n}\n\nconst setMovies = (state, action) => {\n  return {\n    ...state,\n    movies: action.movies,\n  }\n}\n\n// Reducer function\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"SET_PEOPLE\": return setPeople(state, action);\n    case \"SELECT_MOVIEGOER\": return selectMovieGoer(state, action);\n    case \"SET_MOVIES\": return setMovies(state, action);\n    case \"CLEAR_ALL\": return { // clear selected moviegoers\n      ...state,\n      selectedMovieGoer: [],\n      movies: []\n    };\n    default: return state;\n  }\n}\n\nexport default reducer;","import { createStore, compose, applyMiddleware } from 'redux';\n\nimport initialState from './initialState';\nimport reducer from './reducer';\nimport thunk from 'redux-thunk';\n\n  \n  // set up redux dev tools \n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n  // store set up\n  const store = createStore(\n    reducer,\n    initialState,\n    composeEnhancers(applyMiddleware(thunk))\n  );\n  \n  export default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from \"react-redux\";\nimport store from './data/store';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={ store } >\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}