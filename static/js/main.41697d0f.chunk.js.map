{"version":3,"sources":["components/Header.js","components/MovieGoersList/MovieGoersList.js","axios/axios.js","data/actions/state.js","components/MovieGoersList/index.js","data/actions/api.js","components/Footer.js","components/MoviesList/MoviesList.js","components/MoviesList/index.js","components/ResetButton/ResetButton.js","components/ResetButton/index.js","App.js","data/initialState.js","data/reducer.js","data/store.js","index.js"],"names":["Header","Jumbotron","className","aria-label","MovieGoersList","this","props","handleMount","movieGoersList","handleSelect","selectedIds","length","ListGroup","map","movieGoer","index","ListGroupItem","active","indexOf","id","key","onClick","name","Component","axios","create","baseURL","headers","Accept","setMovies","movies","type","connect","state","selectedMovieGoer","person","dispatch","get","then","data","setPeople","getState","selectMovieGoer","peopleIds","console","log","join","getMovies","Footer","MoviesList","CardColumns","movie","i","Card","Body","Title","year","Alert","variant","ResetButton","handleReset","App","initialState","reducer","action","newSelection","existingIndex","findIndex","splice","find","push","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.41697d0f.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Jumbotron } from 'react-bootstrap';\r\n\r\nconst Header = () => (\r\n\r\n  <Jumbotron className=\"header\">\r\n    <h1 className=\"header-h1\" aria-label=\"Movie Hopper App - Find Movies in Common!\">Movie Hopper</h1>\r\n  </Jumbotron >\r\n)\r\n\r\nexport default Header;","import React, { Fragment, Component } from 'react';\nimport {\n  ListGroup,\n  ListGroupItem\n} from 'react-bootstrap';\n\nclass MovieGoersList extends Component {\n  componentDidMount() {\n    this.props.handleMount()\n  }\n\n  render() {\n    const { movieGoersList, handleSelect, selectedIds } = this.props;\n\n    return (\n      (movieGoersList.length > 0) ? (\n        <Fragment>\n          <h2 className=\"moviegoers-list-title\" aria-label=\"Moviegoers List\">Movie Goers</h2>\n          <ListGroup className=\"p-0 moviegoers-list\">\n            {\n              movieGoersList.map((movieGoer, index) => (\n                <ListGroupItem className=\"moviegoer-card\"\n                  active={selectedIds.indexOf(movieGoer.id) !== -1} // if movieGoer.id is in the selectedId array, then highlight as selected\n                  key={index}\n                  onClick={() => handleSelect(movieGoer.id)}\n                  aria-label={movieGoer.name}\n                >\n                  {movieGoer.name}\n                </ListGroupItem>\n              ))\n            }\n          </ListGroup>\n        </Fragment>\n\n      ) : (\n          <h2 className=\"moviegoers-list-title\" aria-label=\"No movie-goers found\">No movie-goers found!</h2>\n        )\n    );\n  }\n}\n\nexport default MovieGoersList;","import axios from 'axios';\n\nexport default axios.create({\n  baseURL: \"https://hopper.developme.space/api/\",\n  headers: {\n    Accept: \"application/json\",\n    // Authorization: \"TBD\" // Needs to be set up\n  }\n})","export const selectMovieGoer = (id) => {\n  return {\n    type: \"SELECT_MOVIEGOER\",\n    id\n  }\n}\n\nexport const setPeople = (data) => {\n  return {\n    type: \"SET_PEOPLE\",\n    data: data\n  }\n}\n\nexport const setMovies = (movies) => {\n  return {\n    type: \"SET_MOVIES\",\n    movies\n  }\n}\n\nexport const clearMovieGoerSelection = () => {\n  return {\n    type: \"CLEAR_ALL\",\n  }\n}","import { connect } from 'react-redux';\r\nimport MovieGoersList from './MovieGoersList';\r\nimport { getPeople } from '../../data/actions/api';\r\nimport { getMovies } from '../../data/actions/api';\r\n\r\nconst mapStateToProps = (state) => {\r\n  let selectedIds = state.selectedMovieGoer.length > 0 ? state.selectedMovieGoer.map((person) => person.id) : \"\";\r\n  return {\r\n    movieGoersList: state.movieGoersList,\r\n    selectedIds,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    handleMount: () => dispatch(getPeople()),\r\n    handleSelect: (id) => dispatch(getMovies(id)),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MovieGoersList);","import axios from \"../../axios/axios\"\nimport {\n    selectMovieGoer,\n    setPeople,\n    setMovies,\n} from './state'\n\nexport const getPeople = () => {\n    return (dispatch) => {\n        axios.get(\"/people\").then(({ data }) => {\n            dispatch(setPeople(data.data))\n        })\n    }\n}\n\nexport const getMovies = (id) => (dispatch, getState) => {\n    dispatch(selectMovieGoer(id))\n    let selectedMovieGoers = getState().selectedMovieGoer;\n    let peopleIds = selectedMovieGoers.map(person => person.id);\n    console.log(peopleIds)\n    // if (selectedMovieGoers.length === 0) {\n    //     peopleIds[0] = id;\n    // } else {\n    //     peopleIds = selectedMovieGoers.map((person) => person.id);\n    //     peopleIds.push(id); // array of currently selected movie-goers\n    // }\n    // if it's 1 selection query the /people/id route\n    if (peopleIds.length === 1) {\n        console.log(\"In if\")\n        axios.get(`/people/${id}`).then(({ data }) => {\n            dispatch(setMovies(data.data.movies))\n\n        })\n    } else if (peopleIds.length > 1) {\n        console.log(\"In else\")\n        // if it's multiple selections, query the match?people=\"ids\" route\n        axios.get(`/people/match?people=${peopleIds.join(',')}`).then(({ data }) => {\n            dispatch(setMovies([data.data]))\n        });\n    }\n    console.log(peopleIds.length)\n    // always \"select\" a moviegoer, could add error handling if the above api calls failed.\n\n}","import React from 'react';\r\n\r\nconst Footer = () => (\r\n  <p className=\"footer\" aria-label=\"Copyright statement\">\r\n    Copyright &copy; 2020 Nik Osvalds, Kieran Cott, Henry Macfarlane, Richard Stibbard\r\n  </p>\r\n)\r\n\r\nexport default Footer;","import React from 'react';\nimport Card from 'react-bootstrap/Card'\nimport CardColumns from 'react-bootstrap/CardColumns'\nimport Alert from 'react-bootstrap/Alert'\n\nconst MoviesList = ({ movies }) => (\n  (movies.length > 0) ? (\n    <>\n      <h2 className=\"movies-title\" aria-label=\"Movies\">Movies</h2>\n      <CardColumns className=\"movies-list\" aria-label=\"Movies List\">\n        {movies.map((movie, i) => (\n          <Card key={i} className=\"movie-card\">\n            <Card.Body>\n              <Card.Title aria-label={movie.name}>\n                {movie.name}\n              </Card.Title>\n            </Card.Body>\n            <Card.Footer aria-label={movie.year}>\n              {movie.year}\n            </Card.Footer>\n          </Card>\n        ))}\n      </CardColumns>\n    </>\n  ) :\n    (\n      <Alert variant=\"primary\" className=\"instructions\"\n        aria-label=\"Select a person to see their favourite movies. Select multiple people to see movies they have in common!\">\n        Select a person to see their favourite movies.<br />\n        Select multiple people to see movies they have in common!\n      </Alert>\n    )\n);\n\n\nexport default MoviesList;","import { connect } from 'react-redux';\nimport MoviesList from './MoviesList';\n\nconst mapStateToProps = (state) => {\n  return {\n    movies: state.movies,\n  }\n}\n\nexport default connect(mapStateToProps)(MoviesList);","import React from \"react\";\r\n\r\nconst ResetButton = ({ handleReset }) => (\r\n  <div className=\"search-button-container\">\r\n    <button\r\n      className=\"search-button btn btn-warning\"\r\n      onClick={handleReset}\r\n      aria-label=\"Click to clear selection\">\r\n      Clear Selection\r\n      </button>\r\n  </div>\r\n)\r\n\r\nexport default ResetButton;\r\n","import { connect } from 'react-redux';\nimport ResetButton from './ResetButton';\nimport { clearMovieGoerSelection } from '../../data/actions/state';\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    handleReset: () => dispatch(clearMovieGoerSelection())\n  }\n}\n\nexport default connect(\"\", mapDispatchToProps)(ResetButton);","import React from 'react';\nimport './App.css';\nimport Header from './components/Header';\nimport MovieGoersList from './components/MovieGoersList/';\nimport Footer from './components/Footer';\nimport MoviesList from './components/MoviesList';\nimport ResetButton from './components/ResetButton/';\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <MovieGoersList />\n      <ResetButton />\n      <MoviesList />\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","const initialState = {\n  selectedMovieGoer: [],\n  movieGoersList: [],\n  movies: []\n};\n\nexport default initialState;","\nconst selectMovieGoer = (state, action) => {\n  const newSelection = [...state.selectedMovieGoer]\n  const existingIndex = newSelection.findIndex((person) => action.id === person.id)\n  if (existingIndex !== -1) {\n    newSelection.splice(existingIndex, 1)\n  } else {\n    const movieGoer = state.movieGoersList.find((movieGoer) => {\n      return movieGoer.id === action.id;\n    })\n    newSelection.push(movieGoer)\n  }\n  return {\n    ...state,\n    selectedMovieGoer: newSelection\n  }\n}\n\nconst setPeople = (state, action) => {\n  return {\n    ...state,\n    movieGoersList: action.data\n  }\n}\n\nconst setMovies = (state, action) => {\n  return {\n    ...state,\n    movies: action.movies,\n  }\n}\n\n// Reducer function\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"SET_PEOPLE\": return setPeople(state, action);\n    case \"SELECT_MOVIEGOER\": return selectMovieGoer(state, action);\n    case \"SET_MOVIES\": return setMovies(state, action);\n    case \"CLEAR_ALL\": return { // clear selected moviegoers\n      ...state,\n      selectedMovieGoer: [],\n      movies: []\n    };\n    default: return state;\n  }\n}\n\nexport default reducer;","import { createStore, compose, applyMiddleware } from 'redux';\n\nimport initialState from './initialState';\nimport reducer from './reducer';\nimport thunk from 'redux-thunk';\n\n  \n  // set up redux dev tools \n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n  // store set up\n  const store = createStore(\n    reducer,\n    initialState,\n    composeEnhancers(applyMiddleware(thunk))\n  );\n  \n  export default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from \"react-redux\";\nimport store from './data/store';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={ store } >\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}